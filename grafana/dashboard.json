{
  "annotations": {
      "list": [
            {
                    "builtIn": 1,
                    "datasource": {
                              "type": "grafana",
                              "uid": "-- Grafana --"
                            },
                    "enable": true,
                    "hide": true,
                    "iconColor": "rgba(0, 211, 255, 1)",
                    "name": "Annotations & Alerts",
                    "target": {
                              "limit": 100,
                              "matchAny": false,
                              "tags": [],
                              "type": "dashboard"
                            },
                    "type": "dashboard"
                  }
          ]
    },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "iteration": 1655794060021,
  "links": [],
  "liveNow": false,
  "panels": [
      {
            "collapsed": false,
            "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 0
                  },
            "id": 46,
            "panels": [],
            "title": "Row title",
            "type": "row"
          },
      {
            "datasource": {
                    "type": "prometheus",
                    "uid": "PBFA97CFB590B2093"
                  },
            "fieldConfig": {
                    "defaults": {
                              "color": {
                                          "mode": "thresholds"
                                        },
                              "mappings": [
                                          {
                                                        "options": {
                                                                        "0": {
                                                                                          "color": "red",
                                                                                          "index": 0,
                                                                                          "text": "KO"
                                                                                        },
                                                                        "1": {
                                                                                          "color": "green",
                                                                                          "index": 1,
                                                                                          "text": "OK"
                                                                                        }
                                                                      },
                                                        "type": "value"
                                                      }
                                        ],
                              "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                                        {
                                                                        "color": "green",
                                                                        "value": null
                                                                      },
                                                        {
                                                                        "color": "red",
                                                                        "value": 80
                                                                      }
                                                      ]
                                        }
                            },
                    "overrides": []
                  },
            "gridPos": {
                    "h": 6,
                    "w": 8,
                    "x": 0,
                    "y": 1
                  },
            "id": 4,
            "options": {
                    "colorMode": "value",
                    "graphMode": "area",
                    "justifyMode": "auto",
                    "orientation": "auto",
                    "reduceOptions": {
                              "calcs": [
                                          "lastNotNull"
                                        ],
                              "fields": "",
                              "values": false
                            },
                    "textMode": "auto"
                  },
            "pluginVersion": "8.5.6",
            "targets": [
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "editorMode": "code",
                              "expr": "pg_up",
                              "legendFormat": "{{job}}",
                              "range": true,
                              "refId": "A"
                            }
                  ],
            "title": "Availability",
            "type": "stat"
          },
      {
            "datasource": {
                    "type": "prometheus",
                    "uid": "PBFA97CFB590B2093"
                  },
            "fieldConfig": {
                    "defaults": {
                              "color": {
                                          "mode": "thresholds"
                                        },
                              "custom": {
                                          "align": "auto",
                                          "displayMode": "auto",
                                          "inspect": false
                                        },
                              "mappings": [],
                              "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                                        {
                                                                        "color": "green",
                                                                        "value": null
                                                                      },
                                                        {
                                                                        "color": "red",
                                                                        "value": 80
                                                                      }
                                                      ]
                                        }
                            },
                    "overrides": [
                              {
                                          "matcher": {
                                                        "id": "byName",
                                                        "options": "Rôle"
                                                      },
                                          "properties": [
                                                        {
                                                                        "id": "custom.width",
                                                                        "value": 82
                                                                      }
                                                      ]
                                        },
                              {
                                          "matcher": {
                                                        "id": "byName",
                                                        "options": "Version"
                                                      },
                                          "properties": [
                                                        {
                                                                        "id": "custom.width",
                                                                        "value": 96
                                                                      }
                                                      ]
                                        }
                            ]
                  },
            "gridPos": {
                    "h": 6,
                    "w": 7,
                    "x": 8,
                    "y": 1
                  },
            "id": 2,
            "options": {
                    "footer": {
                              "fields": "",
                              "reducer": [
                                          "sum"
                                        ],
                              "show": false
                            },
                    "showHeader": true,
                    "sortBy": []
                  },
            "pluginVersion": "8.5.6",
            "targets": [
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "editorMode": "code",
                              "exemplar": false,
                              "expr": "pg_static",
                              "format": "table",
                              "instant": true,
                              "range": false,
                              "refId": "A"
                            }
                  ],
            "title": "Version",
            "transformations": [
                    {
                              "id": "organize",
                              "options": {
                                          "excludeByName": {
                                                        "Time": true,
                                                        "Value": true,
                                                        "__name__": true,
                                                        "exported_server": true,
                                                        "instance": true,
                                                        "server": true
                                                      },
                                          "indexByName": {},
                                          "renameByName": {
                                                        "job": "Rôle",
                                                        "short_version": "Version",
                                                        "version": "Détails"
                                                      }
                                        }
                            }
                  ],
            "type": "table"
          },
      {
            "datasource": {
                    "type": "prometheus",
                    "uid": "PBFA97CFB590B2093"
                  },
            "fieldConfig": {
                    "defaults": {
                              "color": {
                                          "mode": "thresholds"
                                        },
                              "custom": {
                                          "align": "auto",
                                          "displayMode": "color-background-solid",
                                          "inspect": false
                                        },
                              "mappings": [],
                              "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                                        {
                                                                        "color": "red",
                                                                        "value": null
                                                                      },
                                                        {
                                                                        "color": "red",
                                                                        "value": ""
                                                                      }
                                                      ]
                                        }
                            },
                    "overrides": []
                  },
            "gridPos": {
                    "h": 6,
                    "w": 9,
                    "x": 15,
                    "y": 1
                  },
            "id": 98,
            "options": {
                    "footer": {
                              "fields": "",
                              "reducer": [
                                          "sum"
                                        ],
                              "show": false
                            },
                    "showHeader": true
                  },
            "pluginVersion": "8.5.6",
            "targets": [
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "editorMode": "code",
                              "exemplar": false,
                              "expr": "ALERTS",
                              "format": "table",
                              "instant": true,
                              "range": false,
                              "refId": "A"
                            }
                  ],
            "title": "Alerts",
            "transformations": [
                    {
                              "id": "organize",
                              "options": {
                                          "excludeByName": {
                                                        "Time": true,
                                                        "Value": true,
                                                        "__name__": true,
                                                        "alertstate": true,
                                                        "client_addr": true,
                                                        "exported_server": true,
                                                        "instance": true,
                                                        "server": true
                                                      },
                                          "indexByName": {},
                                          "renameByName": {
                                                        "__name__": "",
                                                        "alertname": "Alert",
                                                        "exported_server": "",
                                                        "instance": "",
                                                        "job": "Node",
                                                        "severity": "Severity"
                                                      }
                                        }
                            }
                  ],
            "type": "table"
          },
      {
            "collapsed": true,
            "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 7
                  },
            "id": 48,
            "panels": [
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "gridPos": {
                                          "h": 2,
                                          "w": 12,
                                          "x": 0,
                                          "y": 2
                                        },
                              "id": 8,
                              "options": {
                                          "content": "<center> <h1 style=\"text-transform: capitalize;\">${node} </h1></center>",
                                          "mode": "html"
                                        },
                              "pluginVersion": "8.5.6",
                              "repeat": "node",
                              "repeatDirection": "h",
                              "type": "text"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 12,
                                          "x": 0,
                                          "y": 4
                                        },
                              "id": 14,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "multi",
                                                        "sort": "desc"
                                                      }
                                        },
                              "repeat": "node",
                              "repeatDirection": "h",
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_stat_activity_count{job=\"$node\"}",
                                                        "legendFormat": "{{datname}} {{state}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "Connexions",
                              "type": "timeseries"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "axisSoftMax": -1,
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": true,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 12,
                                          "x": 0,
                                          "y": 12
                                        },
                              "id": 6,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "single",
                                                        "sort": "none"
                                                      }
                                        },
                              "repeat": "node",
                              "repeatDirection": "h",
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_locks_count{job=\"$node\"}",
                                                        "legendFormat": "{{mode}} sur {{datname}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "Verrou",
                              "transformations": [],
                              "type": "timeseries"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "bars",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      },
                                          "overrides": [
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byName",
                                                                                          "options": "Buffer Clean"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "custom.transform",
                                                                                                              "value": "negative-Y"
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      ]
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 12,
                                          "x": 0,
                                          "y": 20
                                        },
                              "id": 19,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "single",
                                                        "sort": "none"
                                                      }
                                        },
                              "repeat": "node",
                              "repeatDirection": "h",
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "rate(pg_stat_bgwriter_checkpoints_timed{job=\"$node\"}[15s]) > 0",
                                                        "legendFormat": "Scheduled Checkpoint",
                                                        "range": true,
                                                        "refId": "A"
                                                      },
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "rate(pg_stat_bgwriter_checkpoints_req{job=\"$node\"}[10s]) > 0",
                                                        "hide": true,
                                                        "legendFormat": "Requested Checkpoint",
                                                        "range": true,
                                                        "refId": "B"
                                                      }
                                        ],
                              "title": "Checkpoint",
                              "type": "timeseries"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 7,
                                          "w": 12,
                                          "x": 0,
                                          "y": 28
                                        },
                              "id": 25,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "single",
                                                        "sort": "none"
                                                      }
                                        },
                              "repeat": "node",
                              "repeatDirection": "h",
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "rate(pg_stat_database_tup_deleted{job=\"$node\"}[$__rate_interval])",
                                                        "legendFormat": "Tuples deleted on {{datname}} ",
                                                        "range": true,
                                                        "refId": "A"
                                                      },
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "rate(pg_stat_database_tup_inserted{job=\"$node\"}[$__rate_interval])",
                                                        "hide": false,
                                                        "legendFormat": "Tuples inserted on {{datname}}",
                                                        "range": true,
                                                        "refId": "B"
                                                      },
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "rate(pg_stat_database_tup_updated{job=\"$node\"}[$__rate_interval])",
                                                        "hide": false,
                                                        "legendFormat": "Tuples updated on {{datname}}",
                                                        "range": true,
                                                        "refId": "C"
                                                      }
                                        ],
                              "title": "Tuples activity",
                              "type": "timeseries"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "Transaction/sec",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "log": 2,
                                                                                          "type": "log"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 12,
                                          "x": 0,
                                          "y": 35
                                        },
                              "id": 32,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "single",
                                                        "sort": "none"
                                                      }
                                        },
                              "repeat": "node",
                              "repeatDirection": "h",
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "rate(pg_stat_database_xact_commit{job=\"$node\",datname!=\"\"}[$__rate_interval])",
                                                        "hide": false,
                                                        "legendFormat": "{{datname}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      },
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_stat_database_xact_commit{job=\"$node\"}",
                                                        "hide": true,
                                                        "legendFormat": "{{datname}}",
                                                        "range": true,
                                                        "refId": "B"
                                                      }
                                        ],
                              "title": "Transactions",
                              "type": "timeseries"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "fixed"
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 4,
                                          "w": 12,
                                          "x": 0,
                                          "y": 43
                                        },
                              "id": 190,
                              "options": {
                                          "colorMode": "value",
                                          "graphMode": "none",
                                          "justifyMode": "auto",
                                          "orientation": "auto",
                                          "reduceOptions": {
                                                        "calcs": [
                                                                        "lastNotNull"
                                                                      ],
                                                        "fields": "",
                                                        "values": false
                                                      },
                                          "textMode": "auto"
                                        },
                              "pluginVersion": "8.5.6",
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_settings_max_connections",
                                                        "legendFormat": "{{job}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "max_connections",
                              "type": "stat"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "fixed"
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        "unit": "bytes"
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 7,
                                          "w": 12,
                                          "x": 12,
                                          "y": 43
                                        },
                              "id": 193,
                              "options": {
                                          "colorMode": "value",
                                          "graphMode": "none",
                                          "justifyMode": "auto",
                                          "orientation": "auto",
                                          "reduceOptions": {
                                                        "calcs": [
                                                                        "lastNotNull"
                                                                      ],
                                                        "fields": "",
                                                        "values": false
                                                      },
                                          "textMode": "auto"
                                        },
                              "pluginVersion": "8.5.6",
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_settings_shared_buffers_bytes",
                                                        "legendFormat": "{{job}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "shared_buffers",
                              "type": "stat"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "fixed"
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        "unit": "bytes"
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 4,
                                          "w": 12,
                                          "x": 0,
                                          "y": 47
                                        },
                              "id": 191,
                              "options": {
                                          "colorMode": "value",
                                          "graphMode": "none",
                                          "justifyMode": "auto",
                                          "orientation": "auto",
                                          "reduceOptions": {
                                                        "calcs": [
                                                                        "lastNotNull"
                                                                      ],
                                                        "fields": "",
                                                        "values": false
                                                      },
                                          "textMode": "auto"
                                        },
                              "pluginVersion": "8.5.6",
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_settings_work_mem_bytes",
                                                        "legendFormat": "{{job}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "work_mem",
                              "type": "stat"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "fixed"
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        "unit": "bytes"
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 6,
                                          "w": 12,
                                          "x": 12,
                                          "y": 50
                                        },
                              "id": 192,
                              "options": {
                                          "colorMode": "value",
                                          "graphMode": "none",
                                          "justifyMode": "auto",
                                          "orientation": "auto",
                                          "reduceOptions": {
                                                        "calcs": [
                                                                        "lastNotNull"
                                                                      ],
                                                        "fields": "",
                                                        "values": false
                                                      },
                                          "textMode": "auto"
                                        },
                              "pluginVersion": "8.5.6",
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_settings_effective_cache_size_bytes",
                                                        "legendFormat": "{{job}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "effective_cache_size",
                              "type": "stat"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "fixed"
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        "unit": "s"
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 5,
                                          "w": 12,
                                          "x": 0,
                                          "y": 51
                                        },
                              "id": 194,
                              "options": {
                                          "colorMode": "value",
                                          "graphMode": "none",
                                          "justifyMode": "auto",
                                          "orientation": "auto",
                                          "reduceOptions": {
                                                        "calcs": [
                                                                        "lastNotNull"
                                                                      ],
                                                        "fields": "",
                                                        "values": false
                                                      },
                                          "textMode": "auto"
                                        },
                              "pluginVersion": "8.5.6",
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_settings_max_standby_streaming_delay_seconds",
                                                        "legendFormat": "{{job}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "max_standby_streaming_delay",
                              "type": "stat"
                            }
                  ],
            "title": "Native Metrics",
            "type": "row"
          },
      {
            "collapsed": true,
            "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 8
                  },
            "id": 56,
            "panels": [
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 9,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "min": 0,
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      },
                                          "overrides": [
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byName",
                                                                                          "options": "Load 1m"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "color",
                                                                                                              "value": {
                                                                                                                                    "fixedColor": "#c4162a",
                                                                                                                                    "mode": "fixed"
                                                                                                                                  }
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byName",
                                                                                          "options": "Load 5m"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "color",
                                                                                                              "value": {
                                                                                                                                    "fixedColor": "#f2495c94",
                                                                                                                                    "mode": "fixed"
                                                                                                                                  }
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byName",
                                                                                          "options": "Load 15m"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "color",
                                                                                                              "value": {
                                                                                                                                    "fixedColor": "#ffa6b052",
                                                                                                                                    "mode": "fixed"
                                                                                                                                  }
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      ]
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 9,
                                          "x": 0,
                                          "y": 9
                                        },
                              "id": 64,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "single",
                                                        "sort": "none"
                                                      }
                                        },
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "node_load1",
                                                        "legendFormat": "Load 1m",
                                                        "range": true,
                                                        "refId": "A"
                                                      },
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "node_load5",
                                                        "hide": false,
                                                        "legendFormat": "Load 5m",
                                                        "range": true,
                                                        "refId": "B"
                                                      },
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "node_load15",
                                                        "hide": false,
                                                        "legendFormat": "Load 15m",
                                                        "range": true,
                                                        "refId": "C"
                                                      }
                                        ],
                              "title": "CPU",
                              "type": "timeseries"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 36,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "normal"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        "unit": "bytes"
                                                      },
                                          "overrides": [
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byName",
                                                                                          "options": "Free"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "color",
                                                                                                              "value": {
                                                                                                                                    "fixedColor": "green",
                                                                                                                                    "mode": "fixed"
                                                                                                                                  }
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byName",
                                                                                          "options": "Used"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "color",
                                                                                                              "value": {
                                                                                                                                    "fixedColor": "red",
                                                                                                                                    "mode": "fixed"
                                                                                                                                  }
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      ]
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 10,
                                          "x": 9,
                                          "y": 9
                                        },
                              "id": 68,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "single",
                                                        "sort": "none"
                                                      }
                                        },
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "node_memory_MemTotal_bytes - node_memory_MemFree_bytes - node_memory_Buffers_bytes - node_memory_Cached_bytes",
                                                        "legendFormat": "Used",
                                                        "range": true,
                                                        "refId": "A"
                                                      },
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "node_memory_Buffers_bytes + node_memory_Cached_bytes",
                                                        "hide": false,
                                                        "legendFormat": "Cache",
                                                        "range": true,
                                                        "refId": "B"
                                                      },
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "node_memory_MemFree_bytes",
                                                        "hide": false,
                                                        "legendFormat": "Free",
                                                        "range": true,
                                                        "refId": "C"
                                                      }
                                        ],
                              "title": "Memory",
                              "type": "timeseries"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "thresholds"
                                                                      },
                                                        "mappings": [],
                                                        "min": 0,
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": 25
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        "unit": "percent"
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 5,
                                          "x": 19,
                                          "y": 9
                                        },
                              "id": 66,
                              "options": {
                                          "colorMode": "value",
                                          "graphMode": "area",
                                          "justifyMode": "auto",
                                          "orientation": "auto",
                                          "reduceOptions": {
                                                        "calcs": [
                                                                        "lastNotNull"
                                                                      ],
                                                        "fields": "",
                                                        "values": false
                                                      },
                                          "textMode": "auto"
                                        },
                              "pluginVersion": "8.5.6",
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "exemplar": false,
                                                        "expr": "node_power_supply_capacity{power_supply=\"BAT0\"}",
                                                        "instant": false,
                                                        "legendFormat": "{{power_supply}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "Battery",
                              "type": "stat"
                            }
                  ],
            "title": "System Metrics",
            "type": "row"
          },
      {
            "collapsed": true,
            "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 9
                  },
            "id": 78,
            "panels": [
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        "unit": "bytes"
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 12,
                                          "x": 0,
                                          "y": 52
                                        },
                              "id": 70,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "single",
                                                        "sort": "none"
                                                      }
                                        },
                              "repeat": "node",
                              "repeatDirection": "h",
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_database_size_bytes{job=\"$node\"}",
                                                        "legendFormat": "{{datname}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "Database Size",
                              "type": "timeseries"
                            }
                  ],
            "title": "Custom Metrics",
            "type": "row"
          },
      {
            "collapsed": true,
            "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 10
                  },
            "id": 81,
            "panels": [
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        "unit": "bytes"
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 12,
                                          "x": 0,
                                          "y": 11
                                        },
                              "id": 89,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "single",
                                                        "sort": "none"
                                                      }
                                        },
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_replication_replay_lag",
                                                        "legendFormat": "{{client_addr}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "Replication Lag (from primary)",
                              "type": "timeseries"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        "unit": "ms"
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 12,
                                          "x": 12,
                                          "y": 11
                                        },
                              "id": 87,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "single",
                                                        "sort": "none"
                                                      }
                                        },
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_replication_replag{job!=\"primary\"}",
                                                        "legendFormat": "{{job}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "Replication Lab (from replica)",
                              "type": "timeseries"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        "unit": "hex"
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 12,
                                          "x": 0,
                                          "y": 19
                                        },
                              "id": 83,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "multi",
                                                        "sort": "none"
                                                      }
                                        },
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_xlog_position",
                                                        "legendFormat": "{{job}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "XLOG Position",
                              "type": "timeseries"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      },
                                          "overrides": [
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byName",
                                                                                          "options": "Alert"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "color",
                                                                                                              "value": {
                                                                                                                                    "fixedColor": "red",
                                                                                                                                    "mode": "fixed"
                                                                                                                                  }
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      ]
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 12,
                                          "x": 12,
                                          "y": 19
                                        },
                              "id": 85,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "single",
                                                        "sort": "none"
                                                      }
                                        },
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "expr": "max(pg_xlog_position) - min(pg_xlog_position)",
                                                        "refId": "A"
                                                      },
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "1000000000",
                                                        "hide": false,
                                                        "legendFormat": "Alert",
                                                        "range": true,
                                                        "refId": "B"
                                                      }
                                        ],
                              "title": "XLOG Diff",
                              "type": "timeseries"
                            }
                  ],
            "title": "Replication",
            "type": "row"
          },
      {
            "collapsed": true,
            "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 11
                  },
            "id": 109,
            "panels": [
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "normal"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      },
                                          "overrides": [
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byName",
                                                                                          "options": "Max Connections"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "color",
                                                                                                              "value": {
                                                                                                                                    "fixedColor": "red",
                                                                                                                                    "mode": "fixed"
                                                                                                                                  }
                                                                                                            },
                                                                                          {
                                                                                                              "id": "custom.lineWidth",
                                                                                                              "value": 3
                                                                                                            },
                                                                                          {
                                                                                                              "id": "custom.stacking",
                                                                                                              "value": {
                                                                                                                                    "group": "A",
                                                                                                                                    "mode": "none"
                                                                                                                                  }
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      ]
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 24,
                                          "x": 0,
                                          "y": 13
                                        },
                              "id": 107,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "multi",
                                                        "sort": "none"
                                                      }
                                        },
                              "repeat": "node",
                              "repeatDirection": "h",
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_client_connections_count{job=\"$node\"}",
                                                        "legendFormat": "{{appname}} @ {{client_addr}} on {{datname}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      },
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_settings_max_connections{job=\"$node\"}",
                                                        "hide": false,
                                                        "legendFormat": "Max Connections",
                                                        "range": true,
                                                        "refId": "B"
                                                      }
                                        ],
                              "title": "Connections",
                              "type": "timeseries"
                            }
                  ],
            "title": "Connections",
            "type": "row"
          },
      {
            "collapsed": true,
            "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 12
                  },
            "id": 114,
            "panels": [
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "thresholds"
                                                                      },
                                                        "custom": {
                                                                        "align": "auto",
                                                                        "displayMode": "auto",
                                                                        "inspect": false
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        "unit": "none"
                                                      },
                                          "overrides": [
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byName",
                                                                                          "options": "Time"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "custom.width",
                                                                                                              "value": 210
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byName",
                                                                                          "options": "query"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "custom.width",
                                                                                                              "value": 259
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byName",
                                                                                          "options": "Age"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "unit",
                                                                                                              "value": "dateTimeFromNow"
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byName",
                                                                                          "options": "Database"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "custom.width",
                                                                                                              "value": 180
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byName",
                                                                                          "options": "Node"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "custom.width",
                                                                                                              "value": 138
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byName",
                                                                                          "options": "Mode"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "custom.width",
                                                                                                              "value": 195
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byName",
                                                                                          "options": "PID"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "custom.width",
                                                                                                              "value": 176
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byName",
                                                                                          "options": "Query"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "custom.width",
                                                                                                              "value": 949
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      ]
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 24,
                                          "x": 0,
                                          "y": 14
                                        },
                              "id": 116,
                              "options": {
                                          "footer": {
                                                        "fields": "",
                                                        "reducer": [
                                                                        "sum"
                                                                      ],
                                                        "show": false
                                                      },
                                          "showHeader": true,
                                          "sortBy": [
                                                        {
                                                                        "desc": true,
                                                                        "displayName": "Age"
                                                                      }
                                                      ]
                                        },
                              "pluginVersion": "8.5.6",
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "exemplar": false,
                                                        "expr": "pg_locksage_start{ query!~\".*substring.*\"} * 1000",
                                                        "format": "table",
                                                        "instant": true,
                                                        "range": false,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "Locks Age",
                              "transformations": [
                                          {
                                                        "id": "organize",
                                                        "options": {
                                                                        "excludeByName": {
                                                                                          "Time": true,
                                                                                          "exported_server": true,
                                                                                          "instance": true,
                                                                                          "server": true
                                                                                        },
                                                                        "indexByName": {},
                                                                        "renameByName": {
                                                                                          "Value": "Age",
                                                                                          "datname": "Database",
                                                                                          "job": "Node",
                                                                                          "mode": "Mode",
                                                                                          "pid": "PID",
                                                                                          "query": "Query"
                                                                                        }
                                                                      }
                                                      }
                                        ],
                              "type": "table"
                            }
                  ],
            "title": "Lock Age",
            "type": "row"
          },
      {
            "collapsed": true,
            "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 13
                  },
            "id": 165,
            "panels": [
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 12,
                                          "x": 0,
                                          "y": 14
                                        },
                              "id": 167,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "single",
                                                        "sort": "none"
                                                      }
                                        },
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_stat_user_tables_n_dead_tup{job=\"primary\"}",
                                                        "legendFormat": "{{datname}} {{schemaname}}.{{relname}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      },
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "sum(pg_stat_user_tables_n_dead_tup{job=\"primary\"})",
                                                        "hide": false,
                                                        "legendFormat": "Total dead tuples",
                                                        "range": true,
                                                        "refId": "B"
                                                      }
                                        ],
                              "title": "Dead tuples",
                              "type": "timeseries"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "thresholds"
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        "unit": "percentunit"
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 12,
                                          "x": 12,
                                          "y": 14
                                        },
                              "id": 169,
                              "options": {
                                          "colorMode": "value",
                                          "graphMode": "area",
                                          "justifyMode": "auto",
                                          "orientation": "auto",
                                          "reduceOptions": {
                                                        "calcs": [
                                                                        "lastNotNull"
                                                                      ],
                                                        "fields": "",
                                                        "values": false
                                                      },
                                          "textMode": "auto"
                                        },
                              "pluginVersion": "8.5.6",
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "expr": "sum(pg_stat_user_tables_n_dead_tup{job=\"primary\"}) / sum(pg_stat_user_tables_n_live_tup{job=\"primary\"})",
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "Global Fragmentation",
                              "type": "stat"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 12,
                                          "x": 0,
                                          "y": 22
                                        },
                              "id": 149,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "single",
                                                        "sort": "none"
                                                      }
                                        },
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_stat_user_tables_n_mod_since_analyze",
                                                        "legendFormat": "{{datname}} {{schemaname}}.{{relname}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "Modification Since Analyse",
                              "type": "timeseries"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "fixedColor": "red",
                                                                        "mode": "fixed"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "bars",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      },
                                          "overrides": [
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byRegexp",
                                                                                          "options": ".*Vacuum.*"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "color",
                                                                                                              "value": {
                                                                                                                                    "fixedColor": "red",
                                                                                                                                    "mode": "fixed"
                                                                                                                                  }
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byRegexp",
                                                                                          "options": ".*Analyse.*"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "color",
                                                                                                              "value": {
                                                                                                                                    "fixedColor": "green",
                                                                                                                                    "mode": "fixed"
                                                                                                                                  }
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        {
                                                                        "__systemRef": "hideSeriesFrom",
                                                                        "matcher": {
                                                                                          "id": "byNames",
                                                                                          "options": {
                                                                                                              "mode": "exclude",
                                                                                                              "names": [
                                                                                                                                    "organisme public.data AUTO Analyse"
                                                                                                                                  ],
                                                                                                              "prefix": "All except:",
                                                                                                              "readOnly": true
                                                                                                            }
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "custom.hideFrom",
                                                                                                              "value": {
                                                                                                                                    "legend": false,
                                                                                                                                    "tooltip": false,
                                                                                                                                    "viz": true
                                                                                                                                  }
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      ]
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 12,
                                          "x": 12,
                                          "y": 22
                                        },
                              "id": 133,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "single",
                                                        "sort": "none"
                                                      }
                                        },
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "(rate(pg_stat_user_tables_vacuum_count{job=\"primary\"}[20s]) > 0) / (rate(pg_stat_user_tables_vacuum_count{job=\"primary\"}[20s]) > 0)",
                                                        "hide": false,
                                                        "legendFormat": "{{datname}} {{schemaname}}.{{relname}} Vacuum",
                                                        "range": true,
                                                        "refId": "A"
                                                      },
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "(rate(pg_stat_user_tables_autovacuum_count{job=\"primary\"}[20s]) > 0) / (rate(pg_stat_user_tables_autovacuum_count{job=\"primary\"}[20s]) > 0)",
                                                        "hide": false,
                                                        "legendFormat": "{{datname}} {{schemaname}}.{{relname}} AUTO Vacuum",
                                                        "range": true,
                                                        "refId": "B"
                                                      },
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "(rate(pg_stat_user_tables_analyze_count{job=\"primary\"}[20s]) > 0) / (rate(pg_stat_user_tables_analyze_count{job=\"primary\"}[20s]) > 0)",
                                                        "hide": false,
                                                        "legendFormat": "{{datname}} {{schemaname}}.{{relname}} Analyse",
                                                        "range": true,
                                                        "refId": "C"
                                                      },
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "(rate(pg_stat_user_tables_autoanalyze_count{job=\"primary\"}[20s]) > 0) / (rate(pg_stat_user_tables_autoanalyze_count{job=\"primary\"}[20s]) > 0)",
                                                        "hide": false,
                                                        "legendFormat": "{{datname}} {{schemaname}}.{{relname}} AUTO Analyse",
                                                        "range": true,
                                                        "refId": "D"
                                                      }
                                        ],
                              "title": "Maintenance events",
                              "type": "timeseries"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        "unit": "percentunit"
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 12,
                                          "x": 0,
                                          "y": 30
                                        },
                              "id": 141,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "single",
                                                        "sort": "none"
                                                      }
                                        },
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_stat_user_tables_n_dead_tup / (pg_stat_user_tables_n_live_tup + pg_stat_user_tables_n_dead_tup)",
                                                        "legendFormat": "{{datname}} {{schemaname}} {{relname}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "Table fragmentation",
                              "type": "timeseries"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "log": 2,
                                                                                          "type": "log"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        "unit": "percentunit"
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 12,
                                          "x": 12,
                                          "y": 30
                                        },
                              "id": 157,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "single",
                                                        "sort": "none"
                                                      }
                                        },
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_stat_user_tables_n_dead_tup{job=\"primary\"} /\n(\n    (pg_stat_user_tables_n_live_tup{job=\"primary\"} *\n     ignoring (datname,relname,schemaname) group_left (server) pg_settings_autovacuum_vacuum_scale_factor{job=\"primary\"}\n    ) + ignoring (datname,relname,schemaname) group_left (server) pg_settings_autovacuum_vacuum_threshold{job=\"primary\"}\n)",
                                                        "legendFormat": "{{datname}} {{schemaname}}.{{relname}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "Auto Vacuum trigger",
                              "type": "timeseries"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        "unit": "percentunit"
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 12,
                                          "x": 0,
                                          "y": 38
                                        },
                              "id": 131,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "single",
                                                        "sort": "none"
                                                      }
                                        },
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_stat_user_tables_seq_scan / pg_stat_user_tables_idx_scan",
                                                        "legendFormat": "{{datname}} {{schemaname}}.{{relname}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "Seq Scan ratio",
                              "type": "timeseries"
                            }
                  ],
            "title": "Fragmentation and maintenance",
            "type": "row"
          },
      {
            "collapsed": true,
            "gridPos": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 14
                  },
            "id": 171,
            "panels": [
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "palette-classic"
                                                                      },
                                                        "custom": {
                                                                        "axisLabel": "",
                                                                        "axisPlacement": "auto",
                                                                        "barAlignment": 0,
                                                                        "drawStyle": "line",
                                                                        "fillOpacity": 0,
                                                                        "gradientMode": "none",
                                                                        "hideFrom": {
                                                                                          "legend": false,
                                                                                          "tooltip": false,
                                                                                          "viz": false
                                                                                        },
                                                                        "lineInterpolation": "linear",
                                                                        "lineWidth": 1,
                                                                        "pointSize": 5,
                                                                        "scaleDistribution": {
                                                                                          "type": "linear"
                                                                                        },
                                                                        "showPoints": "auto",
                                                                        "spanNulls": false,
                                                                        "stacking": {
                                                                                          "group": "A",
                                                                                          "mode": "none"
                                                                                        },
                                                                        "thresholdsStyle": {
                                                                                          "mode": "off"
                                                                                        }
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      },
                                                        "unit": "bytes"
                                                      },
                                          "overrides": []
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 24,
                                          "x": 0,
                                          "y": 47
                                        },
                              "id": 173,
                              "options": {
                                          "legend": {
                                                        "calcs": [],
                                                        "displayMode": "list",
                                                        "placement": "bottom"
                                                      },
                                          "tooltip": {
                                                        "mode": "single",
                                                        "sort": "none"
                                                      }
                                        },
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "expr": "pg_table_size_total_bytes{job=\"primary\", schemaname!~\"pg_catalog|information_schema\"}",
                                                        "legendFormat": "{{datname}} {{schemaname}}.{{relname}}",
                                                        "range": true,
                                                        "refId": "A"
                                                      }
                                        ],
                              "title": "Table size",
                              "type": "timeseries"
                            },
                    {
                              "datasource": {
                                          "type": "prometheus",
                                          "uid": "PBFA97CFB590B2093"
                                        },
                              "fieldConfig": {
                                          "defaults": {
                                                        "color": {
                                                                        "mode": "thresholds"
                                                                      },
                                                        "custom": {
                                                                        "align": "auto",
                                                                        "displayMode": "auto",
                                                                        "inspect": false
                                                                      },
                                                        "mappings": [],
                                                        "thresholds": {
                                                                        "mode": "absolute",
                                                                        "steps": [
                                                                                          {
                                                                                                              "color": "green",
                                                                                                              "value": null
                                                                                                            },
                                                                                          {
                                                                                                              "color": "red",
                                                                                                              "value": 80
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      },
                                          "overrides": [
                                                        {
                                                                        "matcher": {
                                                                                          "id": "byRegexp",
                                                                                          "options": ".*Size"
                                                                                        },
                                                                        "properties": [
                                                                                          {
                                                                                                              "id": "unit",
                                                                                                              "value": "bytes"
                                                                                                            }
                                                                                        ]
                                                                      }
                                                      ]
                                        },
                              "gridPos": {
                                          "h": 8,
                                          "w": 24,
                                          "x": 0,
                                          "y": 55
                                        },
                              "id": 175,
                              "options": {
                                          "footer": {
                                                        "fields": "",
                                                        "reducer": [
                                                                        "sum"
                                                                      ],
                                                        "show": false
                                                      },
                                          "showHeader": true
                                        },
                              "pluginVersion": "8.5.6",
                              "targets": [
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "exemplar": false,
                                                        "expr": "pg_table_size_table_bytes{job=\"primary\", schemaname!~\"pg_catalog|information_schema\"}",
                                                        "format": "table",
                                                        "instant": true,
                                                        "range": false,
                                                        "refId": "A"
                                                      },
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "exemplar": false,
                                                        "expr": "pg_table_size_toast_bytes{job=\"primary\", schemaname!~\"pg_catalog|information_schema\"}",
                                                        "format": "table",
                                                        "hide": false,
                                                        "instant": true,
                                                        "range": false,
                                                        "refId": "B"
                                                      },
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "exemplar": false,
                                                        "expr": "pg_table_size_index_bytes{job=\"primary\", schemaname!~\"pg_catalog|information_schema\"}",
                                                        "format": "table",
                                                        "hide": false,
                                                        "instant": true,
                                                        "range": false,
                                                        "refId": "C"
                                                      },
                                          {
                                                        "datasource": {
                                                                        "type": "prometheus",
                                                                        "uid": "PBFA97CFB590B2093"
                                                                      },
                                                        "editorMode": "code",
                                                        "exemplar": false,
                                                        "expr": "pg_table_size_total_bytes{job=\"primary\", schemaname!~\"pg_catalog|information_schema\"}",
                                                        "format": "table",
                                                        "hide": false,
                                                        "instant": true,
                                                        "range": false,
                                                        "refId": "D"
                                                      }
                                        ],
                              "title": "Table Size",
                              "transformations": [
                                          {
                                                        "id": "seriesToColumns",
                                                        "options": {
                                                                        "byField": "relname"
                                                                      }
                                                      },
                                          {
                                                        "id": "organize",
                                                        "options": {
                                                                        "excludeByName": {
                                                                                          "Time 1": true,
                                                                                          "Time 2": true,
                                                                                          "Time 3": true,
                                                                                          "Time 4": true,
                                                                                          "Value #A": false,
                                                                                          "__name__ 1": true,
                                                                                          "__name__ 2": true,
                                                                                          "__name__ 3": true,
                                                                                          "__name__ 4": true,
                                                                                          "datname 2": true,
                                                                                          "datname 3": true,
                                                                                          "datname 4": true,
                                                                                          "exported_server 1": true,
                                                                                          "exported_server 2": true,
                                                                                          "exported_server 3": true,
                                                                                          "exported_server 4": true,
                                                                                          "instance 1": true,
                                                                                          "instance 2": true,
                                                                                          "instance 3": true,
                                                                                          "instance 4": true,
                                                                                          "job 1": true,
                                                                                          "job 2": true,
                                                                                          "job 3": true,
                                                                                          "job 4": true,
                                                                                          "relname": false,
                                                                                          "schemaname 2": true,
                                                                                          "schemaname 3": true,
                                                                                          "schemaname 4": true,
                                                                                          "server 1": true,
                                                                                          "server 2": true,
                                                                                          "server 3": true,
                                                                                          "server 4": true
                                                                                        },
                                                                        "indexByName": {
                                                                                          "Time 1": 0,
                                                                                          "Time 2": 10,
                                                                                          "Time 3": 19,
                                                                                          "Time 4": 28,
                                                                                          "Value #A": 9,
                                                                                          "Value #B": 18,
                                                                                          "Value #C": 27,
                                                                                          "Value #D": 36,
                                                                                          "__name__ 1": 1,
                                                                                          "__name__ 2": 11,
                                                                                          "__name__ 3": 20,
                                                                                          "__name__ 4": 29,
                                                                                          "datname 1": 2,
                                                                                          "datname 2": 12,
                                                                                          "datname 3": 21,
                                                                                          "datname 4": 30,
                                                                                          "exported_server 1": 3,
                                                                                          "exported_server 2": 13,
                                                                                          "exported_server 3": 22,
                                                                                          "exported_server 4": 31,
                                                                                          "instance 1": 4,
                                                                                          "instance 2": 14,
                                                                                          "instance 3": 23,
                                                                                          "instance 4": 32,
                                                                                          "job 1": 5,
                                                                                          "job 2": 15,
                                                                                          "job 3": 24,
                                                                                          "job 4": 33,
                                                                                          "relname": 8,
                                                                                          "schemaname 1": 6,
                                                                                          "schemaname 2": 16,
                                                                                          "schemaname 3": 25,
                                                                                          "schemaname 4": 34,
                                                                                          "server 1": 7,
                                                                                          "server 2": 17,
                                                                                          "server 3": 26,
                                                                                          "server 4": 35
                                                                                        },
                                                                        "renameByName": {
                                                                                          "Value #A": "Data Size",
                                                                                          "Value #B": "Toast Size",
                                                                                          "Value #C": "Index Size",
                                                                                          "Value #D": "Total Size",
                                                                                          "datname 1": "Database",
                                                                                          "relname": "Table",
                                                                                          "schemaname 1": "Schema"
                                                                                        }
                                                                      }
                                                      }
                                        ],
                              "type": "table"
                            }
                  ],
            "title": "Table size",
            "type": "row"
          }
    ],
  "refresh": "1m",
  "schemaVersion": 36,
  "style": "dark",
  "tags": [],
  "templating": {
      "list": [
            {
                    "current": {
                              "selected": false,
                              "text": "All",
                              "value": "$__all"
                            },
                    "datasource": {
                              "type": "prometheus",
                              "uid": "PBFA97CFB590B2093"
                            },
                    "definition": "label_values(pg_static, job)",
                    "hide": 0,
                    "includeAll": true,
                    "label": "Noeud",
                    "multi": false,
                    "name": "node",
                    "options": [],
                    "query": {
                              "query": "label_values(pg_static, job)",
                              "refId": "StandardVariableQuery"
                            },
                    "refresh": 2,
                    "regex": "",
                    "skipUrlSync": false,
                    "sort": 0,
                    "type": "query"
                  }
          ]
    },
  "time": {
      "from": "now-1h",
      "to": "now"
    },
  "timepicker": {},
  "timezone": "",
  "title": "PostgreSQL Observability",
  "uid": "4YHDSuCnk",
  "version": 1,
  "weekStart": ""
}
